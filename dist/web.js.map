{"version":3,"file":"web.js","sources":["webpack:///./node_modules/lemonadejs/dist/lemonade.js","webpack:///webpack/runtime/compat_get_default_export","webpack:///webpack/runtime/define_property_getters","webpack:///webpack/runtime/has_own_property","webpack:///webpack/runtime/rspack_version","webpack:///webpack/runtime/rspack_unique_id","webpack:///./web/shared/lib/index.ts","webpack:///./web/app/index.ts","webpack:///./web/pages/logs-page/ui/index.ts","webpack:///./web/pages/status-page/ui/vein-character.ts","webpack:///./web/pages/status-page/ui/vein-player-stats.ts","webpack:///./web/pages/status-page/ui/vein-players.ts","webpack:///./web/pages/status-page/ui/vein-selected-character.ts","webpack:///./web/pages/status-page/ui/vein-uptime.ts","webpack:///./web/pages/status-page/ui/vein-character-data.ts","webpack:///./web/pages/status-page/ui/vein-item.ts","webpack:///./web/pages/status-page/ui/vein-player-stat.ts","webpack:///./web/pages/status-page/ui/vein-player.ts","webpack:///./web/pages/status-page/ui/vein-stat.ts","webpack:///./web/pages/status-page/ui/index.ts","webpack:///./web/pages/login-page/ui/index.ts","webpack:///./web/pages/authorized/ui/index.ts","webpack:///./web/features/menu/ui/index.ts","webpack:///./web/index.ts"],"sourcesContent":["/**\r\n * LemonadeJS v5\r\n *\r\n * Website: https://lemonadejs.com\r\n * Description: Create amazing web based reusable components.\r\n *\r\n * This software is distributed under MIT License\r\n * @Roadmap\r\n * Accept interpolated values on properties `<div test=\"test: ${state}\"></div>\r\n */\r\n\r\n;(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    global.lemonade = factory();\r\n}(this, (function () {\r\n\r\n    'use strict';\r\n\r\n    /**\r\n     * Global control element\r\n     */\r\n    let R = {\r\n        queue: [],\r\n        container: {},\r\n        tracking: new Map,\r\n        components: {},\r\n        version: 5,\r\n    };\r\n\r\n    // Global LemonadeJS controllers\r\n    if (typeof(document) !== \"undefined\") {\r\n        if (! document.lemonadejs) {\r\n            document.lemonadejs = R;\r\n        } else {\r\n            R = document.lemonadejs;\r\n        }\r\n    }\r\n\r\n    // Get any conflict of versions\r\n    if (! R.version) {\r\n        console.error('This project seems to be using version 4 and version 5 causing a conflict of versions.');\r\n    }\r\n\r\n    // Script expression inside LemonadeJS templates\r\n    let isScript = /{{(.*?)}}/g;\r\n\r\n    /**\r\n     * Apply value in a object based on the address\r\n     */\r\n    const Path = function(str, val, remove) {\r\n        str = str.split('.');\r\n        if (str.length) {\r\n            let o = this;\r\n            let p = null;\r\n            while (str.length > 1) {\r\n                // Get the property\r\n                p = str.shift();\r\n                // Check if the property exists\r\n                if (o.hasOwnProperty(p)) {\r\n                    o = o[p];\r\n                } else {\r\n                    // Property does not exist\r\n                    if (typeof(val) === 'undefined') {\r\n                        return undefined;\r\n                    } else {\r\n                        // Create the property\r\n                        o[p] = {};\r\n                        // Next property\r\n                        o = o[p];\r\n                    }\r\n                }\r\n            }\r\n            // Get the property\r\n            p = str.shift();\r\n            // Set or get the value\r\n            if (typeof(val) !== 'undefined') {\r\n                if (remove === true) {\r\n                    delete o[p];\r\n                } else {\r\n                    o[p] = val;\r\n                }\r\n                // Success\r\n                return true;\r\n            } else {\r\n                // Return the value\r\n                if (o) {\r\n                    return o[p];\r\n                }\r\n            }\r\n        }\r\n        // Something went wrong\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Show a better error developers\r\n     */\r\n    const createError = function() {\r\n        throw new Error('LemonadeJS ' + Array.from(arguments).join(' '));\r\n    }\r\n\r\n    /**\r\n     * Reference token is a string that define a token and not an expression\r\n     * @param {string} token\r\n     * @param {boolean?} topLevelOnly\r\n     * @returns {boolean}\r\n     */\r\n    function isReferenceToken(token, topLevelOnly) {\r\n        if (topLevelOnly) {\r\n            return /^(this|self)(\\.\\w+)$/gm.test(token);\r\n        } else {\r\n            return /^(this|self)(\\.\\w+|\\[\\d+])*$/gm.test(token);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Extract all valid tokens from a string\r\n     * @param {string} content\r\n     * @returns {string[]}\r\n     */\r\n    function extractTokens(content) {\r\n        // Input validation\r\n        if (typeof content !== 'string') {\r\n            throw new TypeError('Content must be a string');\r\n        }\r\n        // Single regex pattern to match both 'self.' and 'this.' prefixed identifiers Negative lookahead (?!\\.\\w) prevents matching nested properties\r\n        //const pattern =  /(?:self|this)\\.\\w+\\b(?!\\.\\w)/g;\r\n        const pattern = /(?<=(?:this|self)\\.)[a-zA-Z_]\\w*/gm\r\n\r\n        // If no matches found, return empty array early\r\n        const matches = content.match(pattern);\r\n        if (!matches) {\r\n            return [];\r\n        }\r\n        // Create Set directly from matches array with map transform This is more efficient than adding items one by one\r\n        return [...new Set(matches.map(match => match.slice(match.indexOf('.') + 1)))];\r\n    }\r\n\r\n    /**\r\n     * Bind a property to one action and start tracking\r\n     * @param {object} lemon\r\n     * @param {string} prop\r\n     */\r\n    const trackProperty = function(lemon, prop) {\r\n        // Lemon handler\r\n        let s = lemon.self;\r\n        if (typeof(s) === 'object') {\r\n            // Change\r\n            let change = lemon.change;\r\n            // Events\r\n            let events = lemon.events[prop];\r\n            // Current value\r\n            let value = s[prop];\r\n            // Do not allow undefined\r\n            if (typeof(value) === 'undefined') {\r\n                value = '';\r\n            }\r\n            // Create the observer\r\n            Object.defineProperty(s, prop, {\r\n                set: function(v) {\r\n                    // Old value\r\n                    let oldValue = value;\r\n                    // New value\r\n                    value = v;\r\n                    // Dispatch reactions\r\n                    if (events) {\r\n                        events.forEach((action) => {\r\n                            action();\r\n                        });\r\n                    }\r\n                    // Refresh bound elements\r\n                    if (change && change.length) {\r\n                        change.forEach((action) => {\r\n                            if (typeof (action) === 'function') {\r\n                                action.call(s, prop, oldValue, v);\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                get: function () {\r\n                    // Get value\r\n                    return value;\r\n                },\r\n                configurable: true,\r\n                enumerable: true,\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if an element is appended to the DOM or a shadowRoot\r\n     * @param {HTMLElement} node\r\n     * @return {boolean}\r\n     */\r\n    const isAppended = function(node) {\r\n        while (node) {\r\n            if (node === document.body) {\r\n                return true; // Node is in main document\r\n            }\r\n\r\n            if (node.parentNode === null) {\r\n                if (node.host) {\r\n                    node = node.host; // Traverse up through ShadowRoot\r\n                } else {\r\n                    return false; // Detached node\r\n                }\r\n            } else {\r\n                node = node.parentNode; // Traverse up through parentNode\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const elementNotReady = new Set;\r\n\r\n    /**\r\n     * Execute all pending events from onload\r\n     * @param lemon\r\n     */\r\n    const executeOnload = function(lemon) {\r\n        let s = lemon.self;\r\n        // Ready event\r\n        while (lemon.ready.length) {\r\n            lemon.ready.shift()();\r\n        }\r\n        // Native onload\r\n        if (typeof(s.onload) === 'function') {\r\n            s.onload.call(s, s.el);\r\n        }\r\n        // Current self\r\n        if (typeof(lemon.load) === 'function') {\r\n            lemon.load.call(s, s.el);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Process the onload methods\r\n     */\r\n    const processOnload = function(lemon) {\r\n        let root = lemon.tree.element;\r\n        if (root.tagName === 'ROOT' && lemon.elements) {\r\n            root = lemon.elements[0];\r\n        }\r\n        // Add to the queue\r\n        elementNotReady.add(lemon);\r\n        // Check if the element is appended to the DOM\r\n        if (isAppended(root)) {\r\n            elementNotReady.forEach((item) => {\r\n                // Remove from the list\r\n                elementNotReady.delete(item);\r\n                // Run onload and ready events\r\n                executeOnload(item);\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return the element based on the type\r\n     * @param item\r\n     * @returns {*}\r\n     */\r\n    const getElement = function(item) {\r\n        return typeof(item.type) === 'function' ? item.self : item.element;\r\n    }\r\n\r\n    const HTMLParser = function(html, values) {\r\n        /**\r\n         * process the scape chars\r\n         * @param char\r\n         * @returns {*|string}\r\n         */\r\n        function escape(char) {\r\n            const escapeMap = {\r\n                'n': String.fromCharCode(0x0A),\r\n                'r': String.fromCharCode(0x0D),\r\n                't': String.fromCharCode(0x09),\r\n                'b': String.fromCharCode(0x08),\r\n                'f': String.fromCharCode(0x0C),\r\n                'v': String.fromCharCode(0x0B),\r\n                '0': String.fromCharCode(0x00)\r\n            };\r\n\r\n            return escapeMap[char] || char;\r\n        }\r\n\r\n        /**\r\n         * Check if is a self-closing tag\r\n         * @param {string|function} type - Tag name or component function\r\n         * @returns {boolean}\r\n         */\r\n        function isSelfClosing(type) {\r\n            if (! type) {\r\n                return false;\r\n            } else {\r\n                // List of self-closing or void HTML elements\r\n                const selfClosingTags = [\r\n                    'area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'source', 'track', 'wbr'\r\n                ];\r\n                // Convert tagName to lowercase to ensure case-insensitive comparison\r\n                return typeof(type) === 'function' || selfClosingTags.includes(type.toLowerCase());\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Create a text node and add it to current node's children\r\n         * @param {Object} tag - Text node properties\r\n         */\r\n        const createTextNode = function(tag) {\r\n            if (! this.current.children) {\r\n                this.current.children = [];\r\n            }\r\n\r\n            this.current.children.push({\r\n                type: '#text',\r\n                parent: this.current,\r\n                props: [tag],\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Find the parent node by tag name\r\n         * @param {Object} node - Current node\r\n         * @param {string} type - Tag name to find\r\n         * @returns {Object|undefined}\r\n         */\r\n        const findParentByTagName = function(node, type) {\r\n            if (node && type) {\r\n                if (node.type === type) {\r\n                    return node;\r\n                } else {\r\n                    return findParentByTagName(node.parent, type);\r\n                }\r\n            }\r\n\r\n            return undefined;\r\n        }\r\n\r\n        /**\r\n         * Get expression value and update tag metadata\r\n         * @param {Object} tag - Tag to update\r\n         * @returns {*} Expression value\r\n         */\r\n        const getExpression = function(tag) {\r\n            // Get value\r\n            const v = values && values[this.index] !== undefined ? values[this.index] : '';\r\n            if (tag) {\r\n                // Keep the reference\r\n                tag.expression = this.reference;\r\n                // Keep the index\r\n                tag.index = this.index;\r\n            }\r\n            // Move the value index\r\n            this.index++;\r\n            // Delete reference\r\n            delete this.reference;\r\n            // Return value\r\n            return v;\r\n        }\r\n\r\n        /**\r\n         * Handle the text node creation\r\n         */\r\n        const commitText = function() {\r\n            if (typeof(this.text) !== 'undefined') {\r\n                const text = this.text.replace(/\\r?\\n\\s+/g, '');\r\n                if (text) {\r\n                    createTextNode.call(this, { name: 'textContent', value: text });\r\n                }\r\n                delete this.text;\r\n            }\r\n        }\r\n\r\n        const commitComments = function() {\r\n            if (typeof(this.comments) !== 'undefined') {\r\n                let comments = this.comments;\r\n                if (comments) {\r\n                    comments = comments\r\n                        .replace('<!--', '')\r\n                        .replace('-->', '')\r\n\r\n                    if (! this.current.children) {\r\n                        this.current.children = [];\r\n                    }\r\n\r\n                    this.current.children.push({\r\n                        type: '#comments',\r\n                        parent: this.current,\r\n                        props: [{ name: 'text', value: comments }],\r\n                    });\r\n                }\r\n                delete this.comments;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Save the attribute to the tag\r\n         */\r\n        const commitAttribute = function() {\r\n            if (this.tag.attributeName) {\r\n                // Commit any current attribute\r\n                if (! this.tag.props) {\r\n                    this.tag.props = [];\r\n                }\r\n\r\n                let k = this.tag.attributeName;\r\n                let v = this.tag.attributeValue;\r\n\r\n                if (typeof(v) === 'undefined') {\r\n                    v = k;\r\n                }\r\n\r\n                let tag = {\r\n                    name: k,\r\n                    value: v,\r\n                };\r\n\r\n                if (typeof(this.tag.expression) !== 'undefined') {\r\n                    tag.index = this.tag.index;\r\n                    tag.expression = this.tag.expression;\r\n                }\r\n\r\n                this.tag.props.push(tag);\r\n\r\n                // Clean up temporary properties\r\n                delete this.tag.attributeName;\r\n                delete this.tag.attributeValue;\r\n                delete this.tag.index;\r\n                delete this.tag.expression;\r\n\r\n                if (this.tag.attributeIsReadyToClose) {\r\n                    delete this.tag.attributeIsReadyToClose;\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Actions controller\r\n         * @param {Object} control - Parser control object\r\n         * @param {string} char - Current character\r\n         */\r\n        const actions = function(control, char) {\r\n            const method = control.action || 'text';\r\n            if (typeof actions[method] === 'function') {\r\n                actions[method].call(control, char);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Extract content between expression markers, handling quoted content\r\n         * @param {string} html - Full HTML string\r\n         * @param {number} startIndex - Starting index (position after ${})\r\n         * @returns {Object} Expression content and ending position\r\n         */\r\n        function extractExpressionContent(html, startIndex) {\r\n            let text = '';\r\n            let i = startIndex;\r\n            let insideQuotes = null;\r\n\r\n            while (i < html.length) {\r\n                const char = html[i];\r\n\r\n                // Handle quotes\r\n                if ((char === '\"' || char === \"'\" || char === '`')) {\r\n                    if (!insideQuotes) {\r\n                        insideQuotes = char;\r\n                    } else if (char === insideQuotes) {\r\n                        insideQuotes = null;\r\n                    }\r\n                }\r\n\r\n                // Found closing brace outside quotes\r\n                if (char === '}' && !insideQuotes) {\r\n                    return {\r\n                        content: text,\r\n                        position: i\r\n                    };\r\n                }\r\n\r\n                text += char;\r\n                i++;\r\n            }\r\n\r\n            return {\r\n                content: text,\r\n                position: i\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Process a new tag\r\n         * @param char\r\n         */\r\n        actions.processTag = function(char) {\r\n            // Just to check if there are any text to commit\r\n            commitText.call(this);\r\n\r\n            // Process the tag\r\n            if (char === '<') {\r\n                // Create new tag\r\n                this.tag = {\r\n                    type: '',\r\n                    parent: this.current\r\n                };\r\n            } else if (char.match(/[a-zA-Z0-9-]/)) {\r\n                // Tag name\r\n                this.tag.type += char;\r\n            } else {\r\n                if (char === '$' && this.reference) {\r\n                    // Custom tags\r\n                    this.tag.type = getExpression.call(this);\r\n                }\r\n                // Finished with tag name, move to attribute handling\r\n                this.action = 'attributeName';\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle tag closing\r\n         * @param char\r\n         */\r\n        actions.closeTag = function(char) {\r\n            // Make sure to commit attribute\r\n            commitAttribute.call(this);\r\n            // Close the tag\r\n            if (char === '>') {\r\n                // Get the new parent\r\n                if (isSelfClosing(this.tag.type)) {\r\n                    // Push new tag to the parent\r\n                    if (! this.tag.parent.children) {\r\n                        this.tag.parent.children = [];\r\n                    }\r\n                    this.tag.parent.children.push(this.tag);\r\n                } else if (this.tag.closingTag) {\r\n                    // Need to find the parent on the chain\r\n                    const parentNode = findParentByTagName(this.tag.parent, this.tag.type);\r\n                    if (parentNode) {\r\n                        this.current = parentNode.parent;\r\n                    }\r\n                } else {\r\n                    if (this.tag.closing) {\r\n                        // Current is the parent\r\n                        this.current = this.tag.parent;\r\n                    } else {\r\n                        this.current = this.tag;\r\n                    }\r\n\r\n                    // Push new tag to the parent\r\n                    if (! this.tag.parent.children) {\r\n                        this.tag.parent.children = [];\r\n                    }\r\n                    this.tag.parent.children.push(this.tag);\r\n                }\r\n\r\n                // Remote temporary properties\r\n                delete this.tag.insideQuote;\r\n                delete this.tag.closingTag;\r\n                delete this.tag.closing;\r\n                // Finalize tag\r\n                this.tag = null;\r\n                // New action\r\n                this.action = 'text';\r\n            } else if (! this.tag.locked) {\r\n                if (char === '/') {\r\n                    if (! this.tag.type) {\r\n                        // This is a closing tag\r\n                        this.tag.closingTag = true;\r\n                    }\r\n                    // Closing character is found\r\n                    this.tag.closing = true;\r\n                } else if (char.match(/[a-zA-Z0-9-]/)) {\r\n                    // If is a closing tag, get the tag name\r\n                    if (this.tag.closingTag) {\r\n                        this.tag.type += char;\r\n                    }\r\n                } else {\r\n                    // Wait to the closing sign\r\n                    if (this.tag.type) {\r\n                        this.locked = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        actions.attributeName = function(char) {\r\n            // There is another attribute to commit\r\n            if (this.tag.attributeIsReadyToClose) {\r\n                commitAttribute.call(this);\r\n            }\r\n\r\n            // Build attribute name\r\n            if (char.match(/[a-zA-Z0-9-:]/)) {\r\n                if (! this.tag.attributeName) {\r\n                    this.tag.attributeName = '';\r\n                }\r\n                this.tag.attributeName += char;\r\n            } else if (char === '=') {\r\n                // Move to attribute value\r\n                if (this.tag.attributeName) {\r\n                    this.action = 'attributeValue';\r\n                    delete this.tag.attributeIsReadyToClose;\r\n                }\r\n            } else if (char.match(/\\s/)) {\r\n                if (this.tag.attributeName) {\r\n                    this.tag.attributeIsReadyToClose = true;\r\n                }\r\n            }\r\n        };\r\n\r\n        actions.attributeValue = function(char) {\r\n            if (! this.tag.attributeValue) {\r\n                this.tag.attributeValue = '';\r\n            }\r\n\r\n            if (char === '\"' || char === \"'\") {\r\n                if (this.tag.insideQuote) {\r\n                    if (this.tag.insideQuote === char) {\r\n                        this.tag.insideQuote = false;\r\n                    } else {\r\n                        this.tag.attributeValue += char;\r\n                    }\r\n                } else {\r\n                    this.tag.insideQuote = char;\r\n                }\r\n            } else {\r\n                if (char === '$' && this.reference) {\r\n                    // Custom tags\r\n                    char = getExpression.call(this, this.tag);\r\n                }\r\n                // Inside quotes, keep appending to the attribute value\r\n                if (this.tag.insideQuote) {\r\n                    if (this.tag.attributeValue) {\r\n                        this.tag.attributeValue += char;\r\n                    } else {\r\n                        this.tag.attributeValue = char;\r\n                    }\r\n                } else if (typeof(char) === 'string' && char.match(/\\s/)) {\r\n                    if (this.tag.attributeValue) {\r\n                        this.action = 'attributeName';\r\n                    }\r\n                    this.tag.attributeIsReadyToClose = true;\r\n                } else {\r\n                    if (this.tag.attributeIsReadyToClose) {\r\n                        this.action = 'attributeName';\r\n                        actions.attributeName.call(this, char);\r\n                    } else {\r\n                        if (this.tag.attributeValue) {\r\n                            this.tag.attributeValue += char;\r\n                        } else {\r\n                            this.tag.attributeValue = char;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        actions.text = function(char) {\r\n            if (char === '$' && this.reference) {\r\n                // Just to check if there are any text to commit\r\n                commitText.call(this);\r\n                // Custom tags\r\n                let tag = { name: 'textContent' }\r\n                tag.value = getExpression.call(this, tag);\r\n                // Add node tag\r\n                createTextNode.call(this, tag);\r\n            } else {\r\n                if (referenceControl === 1) {\r\n                    // Just to check if there are any text to commit\r\n                    commitText.call(this);\r\n                }\r\n\r\n                // Normal text processing\r\n                if (! this.text) {\r\n                    this.text = '';\r\n                }\r\n                this.text += char; // Keep appending to text content\r\n\r\n                if (referenceControl === 2) {\r\n                    // Just to check if there are any text to commit\r\n                    commitText.call(this);\r\n                }\r\n            }\r\n        }\r\n\r\n        actions.comments = function(char) {\r\n            if (! this.comments) {\r\n                this.comments = '';\r\n            }\r\n            this.comments += char;\r\n\r\n            if (this.comments.endsWith('-->')) {\r\n                commitComments.call(this);\r\n                this.action = 'text';\r\n            }\r\n        }\r\n\r\n        // Control the LemonadeJS native references\r\n        let referenceControl = null;\r\n\r\n        const result = { type: 'template' };\r\n        const control = {\r\n            current: result,\r\n            action: 'text',\r\n            index: 0,\r\n        };\r\n\r\n        // Input validation\r\n        if (typeof html !== 'string') {\r\n            throw new TypeError('HTML input must be a string');\r\n        }\r\n\r\n        // Main loop to process the HTML string\r\n        for (let i = 0; i < html.length; i++) {\r\n            // Current char\r\n            let char = html[i];\r\n\r\n            if (control.action === 'text' && char === '<' && html[i+1] === '!' && html[i+2] === '-' && html[i+3] === '-') {\r\n                control.action = 'comments';\r\n            }\r\n\r\n            if (control.action !== 'comments') {\r\n                let escaped = false;\r\n\r\n                if (values !== null) {\r\n                    // Handle scape\r\n                    if (char === '\\\\') {\r\n                        // This is a escaped char\r\n                        escaped = true;\r\n                        // Parse escape char\r\n                        char = escape(html[i+1]);\r\n                        // Move to the next char\r\n                        i++;\r\n                    }\r\n                }\r\n\r\n                // Global control logic\r\n                if (control.tag) {\r\n                    if (char === '>' || char === '/') {\r\n                        // End of tag, commit any attributes and go back to text parsing\r\n                        if (!control.tag.insideQuote) {\r\n                            control.action = 'closeTag';\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (char === '<') {\r\n                        control.action = 'processTag';\r\n                    }\r\n                }\r\n\r\n                // Register references for a dynamic template\r\n                if (!escaped && char === '$' && html[i + 1] === '{') {\r\n                    const result = extractExpressionContent(html, i + 2);\r\n                    control.reference = result.content;\r\n                    i = result.position;\r\n                }\r\n\r\n                // Control node references\r\n                if (char === '{' && html[i + 1] === '{') {\r\n                    referenceControl = 1;\r\n                } else if (char === '}' && html[i - 1] === '}') {\r\n                    referenceControl = 2;\r\n                }\r\n            }\r\n\r\n            // Execute action\r\n            actions(control, char);\r\n\r\n            // Reference control\r\n            referenceControl = null;\r\n        }\r\n\r\n        // Handle any remaining text\r\n        commitText.call(control);\r\n\r\n        return result.children && result.children[0];\r\n    }\r\n\r\n    const generateHTML = function(lemon) {\r\n\r\n        const appendEvent = function(token, event, exec) {\r\n            if (! lemon.events[token]) {\r\n                lemon.events[token] = []\r\n            }\r\n            // Push the event\r\n            lemon.events[token].push(event);\r\n            // Execute\r\n            if (exec) {\r\n                event();\r\n            }\r\n        }\r\n\r\n        const createEventsFromExpression = function(expression, event, exec) {\r\n            // Get the tokens should be updated to populate this attribute\r\n            let tokens = extractTokens(expression);\r\n            if (tokens.length) {\r\n                // Process all the tokens\r\n                for (let i = 0; i < tokens.length; i++) {\r\n                    appendEvent(tokens[i], event);\r\n                }\r\n            }\r\n            // Execute method\r\n            if (exec) {\r\n                event();\r\n            }\r\n        }\r\n\r\n        const setDynamicValue = function(item, prop, attributeName) {\r\n            // Create a reference to the DOM element\r\n            let property = prop.expression || prop.value;\r\n\r\n            if (isReferenceToken(property)) {\r\n                // Event\r\n                let event = function() {\r\n                    // Reference\r\n                    let value = extractFromPath.call(lemon.self, property);\r\n                    // Update reference\r\n                    setAttribute(getElement(item), attributeName, value);\r\n                }\r\n                // Append event only for the top level properties in the self\r\n                if (isReferenceToken(property, true)) {\r\n                    let p = extractFromPath.call(lemon.self, property, true);\r\n                    if (p) {\r\n                        // Append event to the token change\r\n                        let token = p[1]\r\n                        // Append event\r\n                        appendEvent(token, event);\r\n                    }\r\n                }\r\n                // Execute the event in the first time\r\n                event();\r\n            } else {\r\n                setAttribute(getElement(item), attributeName, castProperty(prop.value));\r\n            }\r\n        }\r\n\r\n        const dynamicContent = function(text) {\r\n            try {\r\n                // Cast value\r\n                let cast = null;\r\n                // Replace the text\r\n                text = text.replace(isScript, function (a, b) {\r\n                    let s = lemon.self;\r\n                    // Try to find the property\r\n                    let result = extractFromPath.call(s, b);\r\n                    // Evaluation for legacy purposes\r\n                    if (typeof(result) === 'undefined') {\r\n                        // This is deprecated and will be dropped on LemonadeJS 6\r\n                        result = run.call(s, b);\r\n                        if (typeof (result) === 'undefined') {\r\n                            result = '';\r\n                        }\r\n                    } else if (result === null) {\r\n                        result = '';\r\n                    }\r\n                    // Parse correct type\r\n                    if (typeof(result) !== 'string' && a === text) {\r\n                        cast = result;\r\n                    }\r\n                    // Return\r\n                    return result;\r\n                });\r\n\r\n                if (cast !== null) {\r\n                    return cast;\r\n                }\r\n\r\n                return text;\r\n            } catch (e) {\r\n            }\r\n        }\r\n\r\n        const isHTML = function(str) {\r\n            return /<[^>]*>/.test(str);\r\n        }\r\n\r\n        const appendHTMLBeforeNode = function(item, value) {\r\n            // Remove previous elements\r\n            if (item.current) {\r\n                item.current.forEach(e => e?.remove());\r\n            }\r\n            item.current = [];\r\n            // Node container\r\n            let node = getElement(item);\r\n            // Append content\r\n            if (! isHTML(value)) {\r\n                node.textContent = value;\r\n            } else {\r\n                // TODO: improve that\r\n                queueMicrotask(() => {\r\n                    // Create a temporary container\r\n                    const t = document.createElement('div');\r\n                    t.innerHTML = value;\r\n                    // Insert elements and store references\r\n                    while (t.firstChild) {\r\n                        item.current.push(t.firstChild);\r\n                        node.parentNode.insertBefore(t.firstChild, node);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        const applyElementAttribute = function(item, prop) {\r\n            if (typeof(prop.expression) !== 'undefined') {\r\n                // Event to update the designed position\r\n                let event = function() {\r\n                    // Extra value from the template\r\n                    let value = lemon.view(parseTemplate)[prop.index];\r\n                    // Process the NODE\r\n                    if (item.type === '#text') {\r\n                        appendHTMLBeforeNode(item, value);\r\n                    } else {\r\n                        // Set attribute\r\n                        setAttribute(getElement(item), prop.name, value);\r\n                    }\r\n                }\r\n                // Bind event to any tokens change\r\n                createEventsFromExpression(prop.expression, event, true);\r\n                // Register event for state changes\r\n                lemon.events[prop.index] = event;\r\n            } else {\r\n                // Get the tokens should be updated to populate this attribute\r\n                let tokens = extractTokens(prop.value);\r\n                if (tokens.length) {\r\n                    // Dynamic\r\n                    createEventsFromExpression(prop.value, function() {\r\n                        // Dynamic text\r\n                        let value = dynamicContent(prop.value);\r\n                        // Get the dynamic value\r\n                        setAttribute(getElement(item), prop.name, value);\r\n                    }, true)\r\n                } else {\r\n                    let value = prop.value;\r\n                    if (value.match(isScript)) {\r\n                        value = dynamicContent(value);\r\n                    }\r\n\r\n                    setAttribute(getElement(item), prop.name, value, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Create a LemonadeJS self bind\r\n         * @param item\r\n         * @param prop\r\n         */\r\n        const applyBindHandler = function(item, prop) {\r\n            // Create a reference to the DOM element\r\n            let property = prop.expression || prop.value;\r\n\r\n            if (isReferenceToken(property, true)) {\r\n                let prop = property.split('.')[1];\r\n\r\n                // Event from component to the property\r\n                let event = function () {\r\n                    let value = getAttribute(getElement(item), 'value');\r\n                    if (lemon.self[prop] !== value) {\r\n                        lemon.self[prop] = value;\r\n                    }\r\n                }\r\n\r\n                if (typeof (item.type) === 'function') {\r\n                    item.bind = event;\r\n                } else {\r\n                    item.element.addEventListener('input', event);\r\n                }\r\n\r\n                // Event property to the element\r\n                event = () => {\r\n                    let value = getAttribute(getElement(item), 'value');\r\n                    if (lemon.self[prop] !== value) {\r\n                        setAttribute(getElement(item), 'value', lemon.self[prop]);\r\n                    }\r\n                }\r\n                // Append event\r\n                appendEvent(prop, event, true);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Create a LemonadeJS self render\r\n         * @param item\r\n         * @param prop\r\n         */\r\n        const applyRenderHandler = function(item, prop) {\r\n            // Create a reference to the DOM element\r\n            let property = prop.expression || prop.value;\r\n            let getValue = null;\r\n            let token = null;\r\n\r\n            if (isReferenceToken(property, true)) {\r\n                token = property.split('.')[1];\r\n                // Get value\r\n                getValue = () => {\r\n                    return lemon.self[token];\r\n                }\r\n            } else {\r\n                if (typeof(prop.expression) !== 'undefined') {\r\n                    getValue = () => {\r\n                        // Extra value from the template\r\n                        let data = lemon.view(parseTemplate)[prop.index];\r\n                        if (data instanceof state) {\r\n                            data = data.value;\r\n                        }\r\n                        return data;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (getValue) {\r\n                // Create container to keep the elements\r\n                item.container = [];\r\n\r\n                // Event property to the element\r\n                let event = () => {\r\n                    // Root element\r\n                    let root = typeof(item.type) === 'function' ? item.self.el : item.element;\r\n                    // Curren value\r\n                    let value = getValue();\r\n                    if (value) {\r\n                        item.container.forEach(e => {\r\n                            root.appendChild(e);\r\n                        });\r\n                    } else {\r\n                        while (root.firstChild) {\r\n                            item.container.push(root.firstChild);\r\n                            root.firstChild.remove();\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (token) {\r\n                    // Append event\r\n                    appendEvent(token, event);\r\n                } else {\r\n                    if (typeof(prop.expression) !== 'undefined') {\r\n                        lemon.events[prop.index] = event;\r\n                        createEventsFromExpression(prop.expression, event);\r\n                    }\r\n                }\r\n\r\n                // Execute event\r\n                let root = typeof(item.type) === 'function' ? item.self.el : item.element;\r\n                if (root) {\r\n                    event();\r\n                } else {\r\n                    lemon.ready.push(event);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Create a dynamic reference\r\n         * @param item\r\n         * @param prop\r\n         */\r\n        const createReference = function(item, prop) {\r\n            let ref = getElement(item);\r\n            if (typeof(prop.value) === 'function') {\r\n                prop.value(ref);\r\n            } else {\r\n                // Create a reference to the DOM element\r\n                let property = prop.expression || prop.value;\r\n                // Reference\r\n                if (isReferenceToken(property)) {\r\n                    let p = extractFromPath.call(lemon.self, property, true);\r\n                    if (p) {\r\n                        lemon.self[p[1]] = ref;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Process the :ready. Call when DOM is ready\r\n         * @param item\r\n         * @param prop\r\n         */\r\n        const whenIsReady = function(item, prop) {\r\n            let value = prop.value;\r\n            // If not a method, should be converted to a method\r\n            if (typeof(value) !== 'function') {\r\n                let t = extractFromPath.call(lemon.self, value);\r\n                if (t) {\r\n                    value = t;\r\n                }\r\n            }\r\n            // Must be a function\r\n            if (typeof(value) === 'function') {\r\n                lemon.ready.push(function() {\r\n                    value(getElement(item), lemon.self);\r\n                });\r\n            } else {\r\n                createError(`:ready ${value} is not a function`)\r\n            }\r\n        }\r\n\r\n        const getRoot = function(item) {\r\n            if (typeof(item.type) === 'function') {\r\n                if (item.parent.type === 'template') {\r\n                    return lemon.root;\r\n                } else {\r\n                    return item.parent.element;\r\n                }\r\n            }\r\n\r\n            return item.element;\r\n        }\r\n\r\n        const registerLoop = function(item, prop) {\r\n            // Create a reference to the DOM element\r\n            let property = prop.expression || prop.value;\r\n\r\n            // Append the template back to the correct position\r\n            if (lemon.self.settings?.loop) {\r\n                lemon.self.settings.loop(item)\r\n            }\r\n\r\n            // Event\r\n            let updateLoop = function(data) {\r\n                // Component\r\n                let method = typeof(item.type) === 'function' ? item.type : Basic;\r\n                // Remove all DOM\r\n                let root = getRoot(item);\r\n                if (root) {\r\n                    while (root.firstChild) {\r\n                        root.firstChild.remove();\r\n                    }\r\n                }\r\n                // Process the data\r\n                if (data && Array.isArray(data)) {\r\n                    // Process data\r\n                    data.forEach(function(self) {\r\n                        let el = self.el;\r\n                        if (el) {\r\n                            root.appendChild(el);\r\n                        } else {\r\n                            // Register parent\r\n                            register(self, 'parent', lemon.self);\r\n                            // Render\r\n                            L.render(method, root, self, item);\r\n                        }\r\n\r\n                        if (root?.getAttribute('unique') === 'false') {\r\n                            delete self.el;\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            // Event\r\n            let event;\r\n\r\n            // Type of property\r\n            if (isReferenceToken(property)) {\r\n                // Event\r\n                event = function() {\r\n                    // Reference\r\n                    let data = extractFromPath.call(lemon.self, property);\r\n                    // Update reference\r\n                    updateLoop(data);\r\n                }\r\n\r\n                // Append event only for the top level properties in the self\r\n                if (isReferenceToken(property, true)) {\r\n                    let p = extractFromPath.call(lemon.self, property, true);\r\n                    if (p) {\r\n                        // Append event to the token change\r\n                        appendEvent(p[1], event);\r\n                    }\r\n                }\r\n            } else {\r\n                if (typeof(prop.expression) !== 'undefined') {\r\n                    event = function() {\r\n                        // Extra value from the template\r\n                        let data = lemon.view(parseTemplate)[prop.index];\r\n                        if (data instanceof state) {\r\n                            data = data.value;\r\n                        }\r\n                        // Update the data\r\n                        updateLoop(data);\r\n                    }\r\n                    // Register event for state changes\r\n                    lemon.events[prop.index] = event;\r\n                }\r\n            }\r\n\r\n            // Defer event since the dom is not ready\r\n            if (event) {\r\n                if (getRoot(item)) {\r\n                    event();\r\n                } else {\r\n                    lemon.ready.push(event);\r\n                }\r\n            }\r\n        }\r\n\r\n        const isLoopAttribute = function(props) {\r\n            let test = false;\r\n            props.forEach(function(prop) {\r\n                if (prop.name === ':loop' || prop.name === 'lm-loop' || prop.name === '@loop') {\r\n                    test = true;\r\n                }\r\n            });\r\n            return test;\r\n        }\r\n\r\n        const registerPath = function(item, prop) {\r\n            if (! lemon.path.elements) {\r\n                lemon.path.elements = [];\r\n            }\r\n\r\n            let element = getElement(item);\r\n\r\n            lemon.path.elements.push({\r\n                element: element,\r\n                path: prop.value\r\n            });\r\n\r\n            // Event from component to the property\r\n            let event = function () {\r\n                // Get the current value of my HTML form element or component\r\n                let value = getAttribute(element, 'value');\r\n                // Apply the new value on the path on the object\r\n                if (lemon.path.value) {\r\n                    Path.call(lemon.path.value, prop.value, value);\r\n                    // Call the callback when exist\r\n                    if (typeof(lemon.path.change) === 'function') {\r\n                        lemon.path.change(value, prop.value, element);\r\n                    }\r\n                } else {\r\n                    console.log('Use setPath to define the form container before using lm-path');\r\n                }\r\n            }\r\n\r\n            if (typeof(item.type) === 'function') {\r\n                item.path = event;\r\n            } else {\r\n                item.element.addEventListener('input', event);\r\n            }\r\n        }\r\n\r\n        const appendChildren = function(container, children) {\r\n            if (container && children) {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    let child = children[i];\r\n                    if (typeof(child) === 'string') {\r\n                        container.appendChild(document.createTextNode(child));\r\n                    } else if (child.element) {\r\n                        if (child.element.tagName === 'ROOT') {\r\n                            while (child.element.firstChild) {\r\n                                container.appendChild(child.element.firstChild);\r\n                            }\r\n                        } else {\r\n                            container.appendChild(child.element);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const getAttributeName = function(prop) {\r\n            return prop[0] === ':' || prop[0] === '@' ? prop.substring(1) : prop.substring(3);\r\n        }\r\n\r\n        const getAttributeEvent = function(event) {\r\n            event = event.toLowerCase();\r\n            if (event.startsWith('on')) {\r\n                return event.toLowerCase();\r\n            } else if (event.startsWith(':on')) {\r\n                return getAttributeName(event);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * CHeck if the event name is a valid DOM event name\r\n         * @param element\r\n         * @param eventName\r\n         * @returns {boolean}\r\n         */\r\n        const isValidEventName = function(element, eventName) {\r\n            const validEventPattern = /^on[a-z]+$/;\r\n            return validEventPattern.test(eventName);\r\n        }\r\n\r\n        /**\r\n         * Create element from the string tagname\r\n         * @param tagName\r\n         * @returns {*}\r\n         */\r\n        const createElementFromString = function(tagName) {\r\n            // List of SVG tags (you can expand this list if needed)\r\n            const svgTags = [\r\n                \"svg\", \"path\", \"circle\", \"rect\", \"line\", \"polygon\", \"polyline\", \"text\"\r\n            ];\r\n\r\n            if (svgTags.includes(tagName)) {\r\n                // For SVG elements, use createElementNS with the correct namespace\r\n                return document.createElementNS(\"http://www.w3.org/2000/svg\", tagName);\r\n            } else {\r\n                // For regular HTML elements, use createElement\r\n                return document.createElement(tagName);\r\n            }\r\n        }\r\n\r\n        const reorderProps = function(arr) {\r\n            // Define the desired order of names\r\n            const orderPriority = ['ref', 'bind', 'loop', 'ready'];\r\n\r\n            // Separate items into prioritized and non-prioritized\r\n            const prioritized = [];\r\n            const others = [];\r\n\r\n            // Sort items into respective arrays\r\n            arr.forEach(item => {\r\n                if (orderPriority.includes(item.name.substring(1)) || orderPriority.includes(item.name.substring(3))) {\r\n                    prioritized.push(item);\r\n                } else {\r\n                    others.push(item);\r\n                }\r\n            });\r\n\r\n            // Return combined array with prioritized items at the end\r\n            return [...others, ...prioritized];\r\n        }\r\n\r\n\r\n        const createElements = function(item) {\r\n            if (typeof(item) === 'object') {\r\n                // Create an element\r\n                if (item.type === '#comments') {\r\n                    item.element = document.createComment(item.props[0].value);\r\n                } else if (item.type === '#text') {\r\n                    // Text node\r\n                    item.element = document.createTextNode('');\r\n                    // Check for dynamic content\r\n                    applyElementAttribute(item, item.props[0]);\r\n                } else {\r\n                    // Apply attributes if they exist\r\n                    if (item.props && ! Array.isArray(item.props)) {\r\n                        let props = [];\r\n                        let keys = Object.keys(item.props);\r\n                        for (let i = 0; i < keys.length; i++) {\r\n                            props.push({ name: keys[i], value: item.props[keys[i]] });\r\n                        }\r\n                        item.props = props;\r\n                    } else if (! item.props) {\r\n                        item.props = [];\r\n                    }\r\n\r\n                    // This item is a parent for a loop\r\n                    if (isLoopAttribute(item.props)) {\r\n                        // Mark this item as a loop\r\n                        item.loop = true;\r\n                    }\r\n\r\n                    if (! item.type) {\r\n                        item.type = 'root';\r\n                    }\r\n\r\n                    if (typeof(item.type) === 'string') {\r\n                        if (item.type.match(/^[A-Z][a-zA-Z0-9\\-]*$/g)) {\r\n                            let controller = item.type.toUpperCase();\r\n                            if (typeof(R.components[controller]) === 'function') {\r\n                                item.type = R.components[controller];\r\n                            } else if (typeof (lemon.components[controller]) === 'function') {\r\n                                item.type = lemon.components[controller];\r\n                            } else {\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (typeof(item.type) === 'string') {\r\n                        item.element = createElementFromString(item.type);\r\n                    } else if (typeof(item.type) === 'function') {\r\n                        // Create instance without calling constructor\r\n                        if (isClass(item.type)) {\r\n                            item.self = new item.type;\r\n                        } else {\r\n                            item.self = {};\r\n                        }\r\n                    }\r\n\r\n                    // Create all children\r\n                    if (! item.loop) {\r\n                        if (item.children && Array.isArray(item.children)) {\r\n                            item.children.forEach(child => {\r\n                                createElements(child);\r\n                            });\r\n                        }\r\n                        if (item.element) {\r\n                            appendChildren(item.element, item.children);\r\n                        }\r\n                    }\r\n\r\n                    // Process attributes\r\n                    if (item.props.length) {\r\n                        // Reorder props\r\n                        item.props = reorderProps(item.props);\r\n                        // Order by priority\r\n                        item.props.forEach(function(prop) {\r\n                            // If the property is an event\r\n                            let event = getAttributeEvent(prop.name);\r\n                            // When event for a DOM\r\n                            if (event) {\r\n                                // Element\r\n                                let element = item.element;\r\n                                // Value\r\n                                let value = prop.value;\r\n                                if (value) {\r\n                                    let handler = null; // Reset handler for each iteration\r\n                                    if (typeof (value) === 'function') {\r\n                                        handler = value;\r\n                                    } else {\r\n                                        let t = extractFromPath.call(lemon.self, value);\r\n                                        if (t) {\r\n                                            if (typeof (t) === 'function') {\r\n                                                prop.value = handler = t;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    // When the element is a DOM\r\n                                    if (isDOM(element)) {\r\n                                        // Create the event handler\r\n                                        let eventHandler;\r\n                                        // Bind event\r\n                                        if (typeof(handler) === 'function') {\r\n                                            eventHandler = function(e, a, b) {\r\n                                                return handler.call(element, e, lemon.self, a, b);\r\n                                            }\r\n                                        } else {\r\n                                            // Legacy compatibility. Inline scripting is non-Compliance with Content Security Policy (CSP).\r\n                                            eventHandler = function (e) {\r\n                                                return Function('e', 'self', value).call(element, e, lemon.self); // TODO, quebra tudo se mudar\r\n                                            }\r\n                                        }\r\n\r\n                                        if (isValidEventName(element, prop.name)) {\r\n                                            element.addEventListener(event.substring(2), eventHandler);\r\n                                        } else {\r\n                                            if (element.tagName?.includes('-')) {\r\n                                                element[event] = handler;\r\n                                            } else {\r\n                                                element[event] = eventHandler;\r\n                                            }\r\n                                        }\r\n                                    } else {\r\n                                        item.self[event] = handler || value;\r\n                                    }\r\n                                }\r\n                            } else if (prop.name.startsWith(':') || prop.name.startsWith('@') || prop.name.startsWith('lm-')) {\r\n                                // Special lemonade attribute name\r\n                                let attrName = getAttributeName(prop.name);\r\n                                // Special properties bound to the self\r\n                                if (attrName === 'ready') {\r\n                                    whenIsReady(item, prop);\r\n                                } else if (attrName === 'ref') {\r\n                                    createReference(item, prop);\r\n                                } else if (attrName === 'loop') {\r\n                                    registerLoop(item, prop);\r\n                                } else if (attrName === 'bind') {\r\n                                    applyBindHandler(item, prop);\r\n                                } else if (attrName === 'path') {\r\n                                    registerPath(item, prop);\r\n                                } else if (attrName === 'render') {\r\n                                    applyRenderHandler(item, prop);\r\n                                } else {\r\n                                    setDynamicValue(item, prop, attrName);\r\n                                }\r\n                            } else {\r\n                                applyElementAttribute(item, prop);\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    // Do not create elements at this state if this is a loop\r\n                    if (! item.loop) {\r\n                        if (typeof(item.type) === 'function') {\r\n                            // Execute component\r\n                            item.element = L.render(item.type, null, item.self, item);\r\n\r\n                            // Create all children\r\n                            if (item.children) {\r\n                                let root = item.element;\r\n                                if (typeof(item.self?.settings?.getRoot) === 'function') {\r\n                                    root = item.self.settings.getRoot();\r\n                                }\r\n                                appendChildren(root, item.children);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Create DOM elements\r\n        createElements(lemon.tree);\r\n\r\n        return lemon.tree.element;\r\n    }\r\n\r\n    /**\r\n     * Extract a property from a nested object using a string address\r\n     * @param {string} str address inside the nested object\r\n     * @param {boolean} config get the configuration obj => property\r\n     */\r\n    const extractFromPath = function(str, config) {\r\n        try {\r\n            let t = str.toString().replace(/[\\[\\]]/g, '.').split('.');\r\n            if (t[0] === 'self' || t[0] === 'this') {\r\n                t.shift();\r\n            }\r\n            // Remove blanks\r\n            t = t.filter(item => item !== '');\r\n            // Object\r\n            let o = this;\r\n            let lastObject;\r\n            while (t.length) {\r\n                // Get the property\r\n                let p = t.shift();\r\n                // Process config\r\n                if (config) {\r\n                    if (typeof(o) === 'object' && ! Array.isArray(o)) {\r\n                        lastObject = [o,p];\r\n                    }\r\n                    if (t.length === 0) {\r\n                        return lastObject;\r\n                    }\r\n                }\r\n                // Check if the property exists\r\n                if (o.hasOwnProperty(p) || typeof(o[p]) !== 'undefined') {\r\n                    o = o[p];\r\n                } else {\r\n                    return undefined;\r\n                }\r\n            }\r\n\r\n            if (typeof(o) !== 'undefined') {\r\n                return o;\r\n            }\r\n        } catch (e) {}\r\n\r\n        // Something went wrong\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * Cast the value of an attribute\r\n     */\r\n    const castProperty = function(attr) {\r\n        // Parse type\r\n        try {\r\n            if (typeof(attr) === 'string' && attr) {\r\n                // Remove any white spaces\r\n                attr = attr.trim();\r\n                if (attr === 'true') {\r\n                    return true;\r\n                } else if (attr === 'false') {\r\n                    return false;\r\n                } else if (! isNaN(attr)) {\r\n                    return Number(attr);\r\n                } else {\r\n                    let firstChar = attr[0];\r\n                    if (firstChar === '{' || firstChar === '[') {\r\n                        if (attr.slice(-1) === '}' || attr.slice(-1) === ']') {\r\n                            return JSON.parse(attr);\r\n                        }\r\n                    } else if (attr.startsWith('self.') || attr.startsWith('this.')) {\r\n                        let v = extractFromPath.call(this, attr);\r\n                        if (typeof(v) !== 'undefined') {\r\n                            return v;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {}\r\n\r\n        return attr;\r\n    }\r\n\r\n    /**\r\n     * This allows to run inline script on LEGACY system. Inline script can lead to security issues so use carefully.\r\n     * @param {string} s string to function\r\n     */\r\n    const run = function(s) {\r\n        return Function('self', '\"use strict\";return (' + s + ')')(this);\r\n    }\r\n\r\n    /**\r\n     * Check if the content {o} is a valid DOM Element\r\n     * @param {HTMLElement|DocumentFragment|object} o - is this a valid dom?\r\n     * @return {boolean}\r\n     */\r\n    const isDOM = function(o) {\r\n        return (o instanceof HTMLElement || o instanceof Element || o instanceof DocumentFragment);\r\n    }\r\n\r\n    /**\r\n     * Check if the method is a method or a class\r\n     * @param {function} f\r\n     * @return {boolean}\r\n     */\r\n    const isClass = function(f) {\r\n        return typeof f === 'function' && /^class\\s/.test(Function.prototype.toString.call(f));\r\n    }\r\n\r\n    /**\r\n     * Basic handler\r\n     * @param {string|object} t - HTML template\r\n     * @return {string|object}\r\n     */\r\n    const Basic = function(t) {\r\n        return t;\r\n    }\r\n\r\n    /**\r\n     * Get the attribute helper\r\n     * @param {object} e Element\r\n     * @param {string} attribute\r\n     */\r\n    const getAttribute = function(e, attribute) {\r\n        let value;\r\n        if (attribute === 'value') {\r\n            if (typeof(e.val) === 'function') {\r\n                value = e.val();\r\n            } else {\r\n                if (e.getAttribute) {\r\n                    if (e.tagName === 'SELECT' && e.getAttribute('multiple') !== null) {\r\n                        value = [];\r\n                        for (let i = 0; i < e.options.length; i++) {\r\n                            if (e.options[i].selected) {\r\n                                value.push(e.options[i].value);\r\n                            }\r\n                        }\r\n                    } else if (e.type === 'checkbox') {\r\n                        value = e.checked && e.getAttribute('value') ? e.value : e.checked;\r\n                    } else if (e.getAttribute('contenteditable')) {\r\n                        value = e.innerHTML;\r\n                    } else {\r\n                        value = e.value;\r\n                    }\r\n                } else {\r\n                    value = e.value;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Set attribute value helper\r\n     * @param {object} e Element\r\n     * @param {string} attribute\r\n     * @param {any} value\r\n     * @param {boolean?} propertyValue\r\n     */\r\n    const setAttribute = function(e, attribute, value, propertyValue) {\r\n        // Handle state\r\n        if (value instanceof state) {\r\n            value = value.value;\r\n        } else if (typeof(value) === 'undefined') {\r\n            value = '';\r\n        }\r\n\r\n        if (attribute === 'value' && ! propertyValue) {\r\n            // Update HTML form element\r\n            if (typeof (e.val) === 'function') {\r\n                if (e.val() != value) {\r\n                    e.val(value);\r\n                }\r\n            } else if (e.tagName === 'SELECT' && e.getAttribute('multiple') !== null) {\r\n                for (let j = 0; j < e.children.length; j++) {\r\n                    e.children[j].selected = value.indexOf(e.children[j].value) >= 0;\r\n                }\r\n            } else if (e.type === 'checkbox') {\r\n                e.checked = !(!value || value === '0' || value === 'false');\r\n            } else if (e.type === 'radio') {\r\n                e.checked = e.value == value;\r\n            } else if (e.getAttribute && e.getAttribute('contenteditable')) {\r\n                if (e.innerHTML != value) {\r\n                    e.innerHTML = value;\r\n                }\r\n            } else {\r\n                // Make sure apply that to the value\r\n                e.value = value;\r\n                // Update attribute if exists\r\n                if (e.getAttribute && e.getAttribute('value') !== null) {\r\n                    e.setAttribute('value', value);\r\n                }\r\n            }\r\n        } else if (typeof(value) === 'object' || typeof(value) === 'function') {\r\n            e[attribute] = value;\r\n        } else {\r\n            if (isDOM(e)) {\r\n                if (typeof (e[attribute]) !== 'undefined' && !(e.namespaceURI && e.namespaceURI.includes('svg'))) {\r\n                    e[attribute] = value;\r\n                } else {\r\n                    if (value === '') {\r\n                        e.removeAttribute(attribute);\r\n                    } else {\r\n                        e.setAttribute(attribute, value);\r\n                    }\r\n                }\r\n            } else {\r\n                e[attribute] = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get attributes as an object\r\n     * @param {boolean} props - all attributes that are not undefined\r\n     * @return {object}\r\n     */\r\n    const getAttributes = function(props) {\r\n        let o = {};\r\n        let k = null;\r\n        let a = this.attributes;\r\n        if (a && a.length) {\r\n            for (let i = 0; i < a.length; i++) {\r\n                k = a[i].name;\r\n                if (props && typeof(this[k]) !== 'undefined') {\r\n                    o[k] = this[k];\r\n                } else {\r\n                    o[k] = a[i].value;\r\n                }\r\n            }\r\n        }\r\n        return o;\r\n    }\r\n\r\n    /**\r\n     * Register a getter without setter for a self object\r\n     * @param {object} s - self object\r\n     * @param {string} p - self property\r\n     * @param {string|object|number} v - value\r\n     */\r\n    const register = function(s, p, v) {\r\n        if (typeof(s) === 'object') {\r\n            Object.defineProperty(s, p, {\r\n                enumerable: false,\r\n                configurable: true,\r\n                get: function () {\r\n                    return v;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Extract variables from the dynamic and append to the self\r\n     * @return {[string, array]} grab the literal injection\r\n     */\r\n    const parseTemplate = function() {\r\n        let args = Array.from(arguments);\r\n        // Remove first\r\n        args.shift()\r\n        // Return the final template\r\n        return args;\r\n    }\r\n\r\n    function cloneChildren(element) {\r\n        // Base case: if an element is null/undefined or not an object, return as is\r\n        if (!element || typeof element !== 'object') {\r\n            return element;\r\n        }\r\n\r\n        // Handle arrays\r\n        if (Array.isArray(element)) {\r\n            return element.map(item => cloneChildren(item));\r\n        }\r\n\r\n        // Create a new object\r\n        const cloned = {};\r\n\r\n        // Clone each property\r\n        for (const key in element) {\r\n            if (key === 'children') {\r\n                // Handle children especially as before\r\n                cloned.children = element.children ? cloneChildren(element.children) : undefined;\r\n            } else if (key === 'props') {\r\n                // Deep clone props array\r\n                cloned.props = element.props.map(prop => ({\r\n                    ...prop,\r\n                    value: prop.value // If value is a function, it will maintain the reference which is what we want\r\n                }));\r\n            } else {\r\n                // Clone other properties\r\n                cloned[key] = element[key];\r\n            }\r\n        }\r\n\r\n        return cloned;\r\n    }\r\n\r\n    // LemonadeJS object\r\n    const L = {};\r\n\r\n    /**\r\n     * Render a lemonade DOM element, method or class into a root DOM element\r\n     * @param {function} component - LemonadeJS component or DOM created\r\n     * @param {HTMLElement} root - root DOM element to receive the new HTML\r\n     * @param {object?} self - self to be used\r\n     * @param {object?} item - item\r\n     * @return {HTMLElement|boolean} o\r\n     */\r\n    L.render = function(component, root, self, item) {\r\n        if (typeof(component) !== 'function') {\r\n            console.error('Component is not a function');\r\n            return false;\r\n        }\r\n\r\n        // In case the self has not initial definition by the developer\r\n        if (typeof(self) === 'undefined') {\r\n            self = {};\r\n        }\r\n\r\n        // Web component\r\n        if (self.tagName && self.tagName.includes('-')) {\r\n            let props = getAttributes.call(self, true);\r\n            // Copy all values to the object\r\n            L.setProperties.call(self, props, true);\r\n        }\r\n\r\n        // Arguments\r\n        let args = Array.from(arguments);\r\n\r\n        // Lemonade component object\r\n        let lemon = {\r\n            self: self,\r\n            ready: [],\r\n            change: [],\r\n            events: [],\r\n            components: {},\r\n            elements: [],\r\n            root: root,\r\n            path: {},\r\n        }\r\n\r\n        // Current onchange\r\n        let externalOnchange = self.onchange;\r\n        let externalOnload = self.onload;\r\n\r\n        if (! item) {\r\n            item = {};\r\n        } else if (typeof(item) === 'string') {\r\n            item = {\r\n                children: item,\r\n            }\r\n        }\r\n\r\n        let view;\r\n        let result;\r\n\r\n        // New self\r\n        if (component === Basic) {\r\n            view = cloneChildren(item.children[0]);\r\n        } else {\r\n            R.currentLemon = lemon;\r\n\r\n            const tools = {\r\n                onload: (...args) => setOnload(lemon, ...args),\r\n                onchange: (...args) => setOnchange(lemon, ...args),\r\n                track: (...args) => setTrack(lemon, ...args),\r\n                state: (...args) => setState(lemon, ...args),\r\n                setPath: (...args) => setPath(lemon, ...args),\r\n            };\r\n\r\n            if (isClass(component)) {\r\n                if (! (self instanceof component)) {\r\n                    lemon.self = self = new component(self);\r\n                }\r\n                view = self.render(item.children, tools);\r\n            } else {\r\n                // Execute component\r\n                view = component.call(self, item.children, tools);\r\n            }\r\n\r\n            // Resolve onchange scope conflict\r\n            if (typeof(self.onchange) === 'function' && externalOnchange !== self.onchange) {\r\n                // Keep onchange event in the new onchange format\r\n                lemon.change.push(self.onchange);\r\n                // Keep the external onchange\r\n                self.onchange = externalOnchange;\r\n            }\r\n\r\n            R.currentLemon = null;\r\n        }\r\n\r\n        // Values\r\n        let values = null;\r\n        // Process return\r\n        if (typeof(view) === 'function') {\r\n            values = view(parseTemplate);\r\n            // Curren values\r\n            lemon.values = values;\r\n            // A render template to be executed\r\n            lemon.view = view;\r\n            // Template from the method\r\n            result = view.toString().split('`');\r\n            // Get the original template\r\n            if (result) {\r\n                // Remove the last element\r\n                result.shift();\r\n                result.pop();\r\n                // Join everything else\r\n                result = result.join('`').trim();\r\n            }\r\n        } else {\r\n            result = view;\r\n        }\r\n\r\n        // Virtual DOM tree\r\n        if (typeof(result) === 'string') {\r\n            result = HTMLParser(result.trim(), values);\r\n        }\r\n\r\n        let element;\r\n\r\n        // Process the result\r\n        if (result) {\r\n            // Get the HTML virtual DOM representation\r\n            lemon.tree = result;\r\n\r\n            // Create real DOM and append to the root\r\n            element = generateHTML(lemon);\r\n\r\n            if (element) {\r\n                // Parents\r\n                lemon.elements = [];\r\n                // Append parents\r\n                if (element.tagName === 'ROOT') {\r\n                    element.childNodes.forEach((e) => {\r\n                        lemon.elements.push(e);\r\n                    });\r\n                } else {\r\n                    lemon.elements.push(element);\r\n                }\r\n\r\n                // Register element when is not registered inside the component\r\n                register(lemon.self, 'el', element);\r\n\r\n                const destroy = () => {\r\n                    // Do not add in the same root\r\n                    let div = document.createElement('div');\r\n                    // Append temporary DIV to the same position\r\n                    lemon.elements[0].parentNode.insertBefore(div, lemon.elements[0]);\r\n                    // Remove the old elements\r\n                    lemon.elements.forEach((e) => {\r\n                        e.remove();\r\n                    });\r\n                    // Root element\r\n                    args[1] = div;\r\n                    // Create a new component\r\n                    L.render(...args);\r\n                    // Append elements in the same position in the DOM tree\r\n                    while (div.firstChild) {\r\n                        div.parentNode.insertBefore(div.firstChild, div);\r\n                    }\r\n                    // Remove DIV\r\n                    div.remove();\r\n                    // Object not in use\r\n                    lemon = null;\r\n                }\r\n\r\n                // Refresh\r\n                register(lemon.self, 'refresh', (prop) => {\r\n                    if (prop) {\r\n                        if (prop === true) {\r\n                            destroy();\r\n                        } else {\r\n                            lemon.self[prop] = lemon.self[prop];\r\n                        }\r\n                    } else {\r\n                        if (lemon.view) {\r\n                            runViewValues(lemon);\r\n                        } else {\r\n                            destroy();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // Append element to the DOM\r\n                if (root) {\r\n                    lemon.elements.forEach((e) => {\r\n                        root.appendChild(e);\r\n                    });\r\n                }\r\n            } else {\r\n                // Refresh\r\n                register(lemon.self, 'refresh', (prop) => {\r\n                    if (prop) {\r\n                        if (prop === true) {\r\n                            runViewValues(lemon);\r\n                        } else {\r\n                            lemon.self[prop] = lemon.self[prop];\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        // Bind to custom component\r\n        if (item.bind || item.path) {\r\n            let token = 'value';\r\n            if (! lemon.events[token]) {\r\n                lemon.events[token] = []\r\n            }\r\n            // Push the event\r\n            if (item.bind) {\r\n                lemon.events[token].push(item.bind);\r\n            }\r\n            if (item.path) {\r\n                lemon.events[token].push(item.path);\r\n            }\r\n        }\r\n\r\n        // In case initial exists\r\n        if (typeof(lemon.path.initial) === 'object') {\r\n            // Get the value of the draft\r\n            let newValue = lemon.path.initial;\r\n            // Delete draft\r\n            delete lemon.path.initial;\r\n            // Apply new values\r\n            lemon.path.setValue(newValue);\r\n\r\n        }\r\n\r\n        // Apply events\r\n        if (lemon.events) {\r\n            let props = Object.keys(lemon.events);\r\n            if (props.length) {\r\n                for (let i = 0; i <props.length; i++) {\r\n                    trackProperty(lemon, props[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Process the onload\r\n        if (element) {\r\n            processOnload(lemon);\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    const registerComponents = function(components) {\r\n        if (components && R.currentLemon) {\r\n            for (const key in components) {\r\n                R.currentLemon.components[key.toUpperCase()] = components[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Deprecated\r\n     * @param {string} template\r\n     * @param {object?} s (self)\r\n     * @param {object?} components\r\n     */\r\n    L.element = function(template, s, components) {\r\n        if (R.currentLemon && s && typeof(s) === 'object') {\r\n            if (s !== R.currentLemon.self) {\r\n                R.currentLemon.self = s;\r\n            }\r\n        }\r\n        registerComponents(components);\r\n        return template;\r\n    }\r\n\r\n    /**\r\n     * Apply self to an existing appended DOM element\r\n     * @param {HTMLElement} el - element root\r\n     * @param {object} s - self to associate to the template\r\n     * @param {object?} components - object with component declarations\r\n     */\r\n    L.apply = function(el, s, components) {\r\n        let template = el.innerHTML;\r\n        el.textContent = '';\r\n        let Component = function() {\r\n            registerComponents(components);\r\n            return `<>${template}</>`;\r\n        }\r\n        return L.render(Component,el,s);\r\n    }\r\n\r\n    /**\r\n     * Get all properties existing in {o} and create a new object with the values from {this};\r\n     * @param {object} o - reference object with the properties relevant to the new object\r\n     * @return {object} n - the new object with all new values\r\n     */\r\n    L.getProperties = function(o) {\r\n        // The new object with all properties found in {o} with values from {this}\r\n        let n = {};\r\n        for (let p in o) {\r\n            n[p] = this[p];\r\n        }\r\n        return n;\r\n    }\r\n\r\n    /**\r\n     * Set the values from {o} to {this}\r\n     * @param {object} o set the values of {this} when the `this[property]` is found in {o}, or when flag force is true\r\n     * @param {boolean} f create a new property when that does not exist yet, but is found in {o}\r\n     * @return {object} this is redundant since object {this} is a reference and is already available in the caller\r\n     */\r\n    L.setProperties = function(o, f) {\r\n        for (let p in o) {\r\n            if (this.hasOwnProperty(p) || f) {\r\n                this[p] = o[p];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset the values of any common property name between this and a given object\r\n     * @param {object} o - all properties names in the object {o} found in {this} will be reset.\r\n     */\r\n    L.resetProperties = function(o) {\r\n        for (let p in o) {\r\n            this[p] = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Lemonade CC (common container) helps you share a self or function through the whole application\r\n     * @param {string} name alias for your declared object(self) or function\r\n     * @returns {Object | Function} - registered element\r\n     */\r\n    L.get = function(name) {\r\n        return R.container[name];\r\n    }\r\n\r\n    /**\r\n     * Register something to the Lemonade CC (common container)\r\n     * @param {string} name - alias for your declared object(self) or function\r\n     * @param {object|function} e - the element to be added to the common container. Can be an object(self) or function.\r\n     * @param {boolean} persistence - optional the persistence flag. Only applicable for functions.\r\n     */\r\n    L.set = function(name, e, persistence) {\r\n        // Applicable only when the o is a function\r\n        if (typeof(e) === 'function' && persistence === true) {\r\n            // Keep the flag\r\n            e.storage = true;\r\n            // Any existing values\r\n            let t = window.localStorage.getItem(name);\r\n            if (t) {\r\n                // Parse JSON\r\n                t = JSON.parse(t);\r\n                // Execute method with the existing values\r\n                e(t);\r\n            }\r\n        }\r\n        // Save to the sugar container\r\n        R.container[name] = e;\r\n    }\r\n\r\n    /**\r\n     * Dispatch the new values to the function\r\n     * @param {string} name - alias to the element saved on the Lemonade CC (common container)\r\n     * @param {object?} data - data to be dispatched\r\n     */\r\n    L.dispatch = function(name, data) {\r\n        // Get from the container\r\n        let e = R.container[name];\r\n        // Confirm that the alias is a function\r\n        if (typeof(e) === 'function') {\r\n            // Save the data to the local storage\r\n            if (e.storage === true) {\r\n                window.localStorage.setItem(name, JSON.stringify(data));\r\n            }\r\n            // Dispatch the data to the function\r\n            return e(data);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Register components\r\n     * @param {object} components - register components\r\n     */\r\n    L.setComponents = function(components) {\r\n        if (typeof(components) === 'object') {\r\n            // Component names\r\n            let k = Object.keys(components);\r\n            // Make sure they follow the standard\r\n            for (let i = 0; i < k.length; i++) {\r\n                R.components[k[i].toUpperCase()] = components[k[i]];\r\n            }\r\n        }\r\n    }\r\n\r\n    L.component = class {}\r\n\r\n    /**\r\n     * Create a Web Component\r\n     * @param {string} name - web component name\r\n     * @param {function} handler - lemonadejs component\r\n     * @param {object} options - options to create the web components\r\n     */\r\n    L.createWebComponent = function(name, handler, options) {\r\n        if (typeof(window) === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (typeof(handler) !== 'function') {\r\n            return 'Handler should be an function';\r\n        }\r\n        // Prefix\r\n        let prefix = options && options.prefix ? options.prefix : 'lm';\r\n\r\n        // Component name\r\n        const componentName = prefix + '-' + name;\r\n\r\n        // Check if the component is already defined\r\n        if (! window.customElements.get(componentName)) {\r\n            class Component extends HTMLElement {\r\n                constructor() {\r\n                    super();\r\n                }\r\n\r\n                connectedCallback() {\r\n                    // LemonadeJS self\r\n                    let self = this;\r\n                    // First call\r\n                    let state = typeof(this.el) === 'undefined';\r\n                    // LemonadeJS is already rendered\r\n                    if (state === true) {\r\n                        // Render\r\n                        if (options && options.applyOnly === true) {\r\n                            // Merge component\r\n                            handler.call(this);\r\n                            // Apply\r\n                            L.apply(this, self);\r\n                        } else {\r\n                            let root = this;\r\n                            if (options && options.shadowRoot === true) {\r\n                                this.attachShadow({ mode: 'open' });\r\n                                root = document.createElement('div');\r\n                                this.shadowRoot.appendChild(root);\r\n                            }\r\n                            // Give the browser time to calculate all width and heights\r\n                            L.render(handler, root, self);\r\n                        }\r\n                    }\r\n\r\n                    queueMicrotask(() => {\r\n                        // Event\r\n                        if (typeof(self.onconnect) === 'function') {\r\n                            self.onconnect(self, state);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                disconnectedCallback() {\r\n                    if (typeof(this.ondisconnect) === 'function') {\r\n                        this.ondisconnect(this);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (! window.customElements.get(componentName)) {\r\n                window.customElements.define(componentName, Component);\r\n            }\r\n        }\r\n    }\r\n\r\n    L.h = function(type, props, ...children) {\r\n        return { type, props: props || {}, children };\r\n    }\r\n\r\n    L.Fragment = function(props) {\r\n        return props.children;\r\n    }\r\n\r\n    const wrongLevel = 'Hooks must be called at the top level of your component';\r\n\r\n    const setOnload = function(lemon, event) {\r\n        lemon.load = event;\r\n    }\r\n\r\n    const setOnchange = function(lemon, event) {\r\n        lemon.change.push(event);\r\n    }\r\n\r\n    const setTrack = function(lemon, prop) {\r\n        if (! lemon.events[prop]) {\r\n            lemon.events[prop] = [];\r\n        }\r\n    }\r\n\r\n    const setPath = function(lemon, initialValues, change) {\r\n        // My value object\r\n        let value = {};\r\n        // Create a method to update the state\r\n        const setValue = (newValue) => {\r\n            if (typeof(lemon.path.initial) === 'undefined') {\r\n                if (typeof (newValue) === 'object') {\r\n                    // If my has been declared\r\n                    let elements = lemon.path.elements;\r\n                    if (elements) {\r\n                        for (let i = 0; i < elements.length; i++) {\r\n                            let v = Path.call(newValue, elements[i].path)\r\n                            setAttribute(elements[i].element, 'value', v);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                lemon.path.initial = newValue;\r\n            }\r\n        }\r\n\r\n        const getValue = () => {\r\n            let ret = {};\r\n            // If my has been declared\r\n            let elements = lemon.path.elements;\r\n            if (elements) {\r\n                for (let i = 0; i < elements.length; i++) {\r\n                    let v = getAttribute(elements[i].element, 'value');\r\n                    Path.call(ret, elements[i].path, v);\r\n                }\r\n            }\r\n            return ret;\r\n        }\r\n\r\n        lemon.path = {\r\n            setValue: setValue,\r\n            value: value,\r\n            change: change,\r\n            initial: initialValues || {}\r\n        };\r\n\r\n        return [value, setValue, getValue];\r\n    }\r\n\r\n    const setState = function(lemon, value, callback) {\r\n        // Create a state container\r\n        const s = new state();\r\n        // Create a method to update the state\r\n        const setValue = (newValue) => {\r\n            let oldValue = value;\r\n            // Update original value\r\n            value = typeof newValue === 'function' ? newValue(value) : newValue;\r\n            // Values from the view\r\n            runViewValues(lemon, s);\r\n            // Call back\r\n            callback?.(value, oldValue);\r\n        }\r\n        // Make the value attribute dynamic\r\n        Object.defineProperty(s, 'value', {\r\n            set: setValue,\r\n            get: () => value\r\n        });\r\n\r\n        return s;\r\n    }\r\n\r\n    L.onload = function(event) {\r\n        if (! R.currentLemon) {\r\n            createError(wrongLevel);\r\n        }\r\n        return setOnload(R.currentLemon, event);\r\n    }\r\n\r\n    L.onchange = function(event) {\r\n        if (! R.currentLemon) {\r\n            createError(wrongLevel);\r\n        }\r\n        return setOnchange(R.currentLemon, event);\r\n    }\r\n\r\n    L.track = function(prop) {\r\n        if (! R.currentLemon) {\r\n            createError(wrongLevel);\r\n        }\r\n        return setTrack(R.currentLemon, prop);\r\n    }\r\n\r\n    L.setPath = function(initialValues, change) {\r\n        if (! R.currentLemon) {\r\n            createError(wrongLevel);\r\n        }\r\n        return setPath(R.currentLemon, initialValues, change);\r\n    }\r\n\r\n    /**\r\n     * Run view values\r\n     * @param lemon\r\n     * @param s - refresh from state\r\n     */\r\n    const runViewValues = function(lemon, s) {\r\n        let values = lemon.view(parseTemplate);\r\n        if (values && values.length) {\r\n            values.forEach((v, k) => {\r\n                let current = lemon.values[k];\r\n                // Compare if the previous value\r\n                if (s && s === v || v !== current) {\r\n                    // Update current value\r\n                    lemon.values[k] = v;\r\n                    // Trigger state events\r\n                    if (typeof(lemon.events[k]) === 'function') {\r\n                        lemon.events[k]();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const state = function() {}\r\n\r\n    state.prototype.toString = function() {\r\n        return this.value.toString();\r\n    }\r\n\r\n    state.prototype.valueOf = function() {\r\n        return this.value;\r\n    }\r\n\r\n    state.prototype[Symbol.toPrimitive] = function(hint) {\r\n        if (hint === 'string') {\r\n            return this.value.toString();\r\n        }\r\n        return this.value;\r\n    }\r\n\r\n    // TODO: Proxy for Objects and Arrays\r\n    L.state = function(value, callback) {\r\n        if (! R.currentLemon) {\r\n            createError(wrongLevel);\r\n        }\r\n\r\n        return setState(R.currentLemon, value, callback);\r\n    }\r\n\r\n    L.helpers = {\r\n        path: extractFromPath,\r\n        properties: {\r\n            get: L.getProperties,\r\n            set: L.setProperties,\r\n            reset: L.resetProperties,\r\n        }\r\n    }\r\n\r\n    L.events = (function() {\r\n        class CustomEvents extends Event {\r\n            constructor(type, props, options) {\r\n                super(type, {\r\n                    bubbles: true,\r\n                    composed: true,\r\n                    ...options,\r\n                });\r\n\r\n                if (props) {\r\n                    for (const key in props) {\r\n                        // Avoid assigning if property already exists anywhere on `this`\r\n                        if (! (key in this)) {\r\n                            this[key] = props[key];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const create = function(type, props, options) {\r\n            return new CustomEvents(type, props, options);\r\n        };\r\n\r\n        return {\r\n            create: create,\r\n            dispatch(element, event, options) {\r\n                if (typeof event === 'string') {\r\n                    event = create(event, options);\r\n                }\r\n                element.dispatchEvent(event);\r\n            }\r\n        };\r\n    })();\r\n\r\n    return L;\r\n})));","// getDefaultExport function for compatibility with non-ESM modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};\n","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.rv = () => (\"1.6.3\")","__webpack_require__.ruid = \"bundler=rspack@1.6.3\";\n","export function Component(tag: string) {\n    return function(target: any) {\n        customElements.define(tag, target);\n    }\n}\n\ninterface EventHandler {\n    el: HTMLElement,\n    callback?: Function | null | undefined;\n}\n\nclass ServerSideEvents {\n    events: Record<string, EventHandler[]> = {};\n\n    constructor() {\n        this.events = {};\n    }\n\n    on(msg_type: string, el: HTMLElement, callback?: Function) {\n        let queue = this.events[msg_type] || [];\n        queue.push({ el, callback });\n        this.events[msg_type] = queue;\n    }\n\n    disconnect = (target: HTMLElement) => {\n        for (const ty in this.events) {\n            const idx = this.events[ty].findIndex(({ el }) => {\n                return el == target\n            });\n            if (idx != -1) this.events[ty].splice(idx, 1);\n        }\n    }\n    emit(msg_type: string, payload: any) {\n        let queue = this.events[msg_type] || [];\n        for (const { el, callback } of queue) {\n            const target = el as any;\n            // console.log(msg_type, {\n            //     el,\n            //     different: !_.isEqual(el[msg_type], payload),\n            //     payload: structuredClone(payload),\n            //     value: el[msg_type]\n            // });\n            if (!_.isEqual(target[msg_type], payload)) {\n                callback && callback(payload);\n                target[msg_type] = payload;\n            }\n        }\n    }\n}\n\nexport const SSE = new ServerSideEvents();\nexport const CHARACTER_SELECTED = 'Character:Selected';\n","import lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\n\nfunction VeinApp() {\n    let state = lemonade.state('authorized');\n    SSE.on('forbidden', this, () => {\n        console.log('set to forbidden');\n        state.value = 'forbidden';\n    });\n    SSE.on('authorized', this, () => {\n        console.log('set to authorized');\n        state.value = 'authorized';\n    });\n    return (render: any) => render`\n        <div class=${state.value}>\n            <vein-authorized />\n            <vein-login-page />\n        </div>\n    `;\n}\n\nlemonade.createWebComponent('app', VeinApp, { shadowRoot: false, prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\n\nfunction LogsPage() {\n    const page = lemonade.state('status');\n    const logs = lemonade.state([]);\n\n    this.onconnect = (self: any) => {\n        SSE.on('page', self, (value: any) => page.value = value);\n        SSE.on('logs', self, (value: any) => page.value = value);\n    };\n    this.ondisconnect = (self: any) => SSE.disconnect(self);\n\n    return (render: any) => render`\n        <article id=\"logs\" class=\"${page.value == 'logs' ? 'flex flex-col gap-4 p-8' : 'hidden'}\">\n            <div :loop=${logs.value}>\n                <vein-log-line line={{self.line}} level={{self.level}} />\n            </div>\n        </article>\n    `;\n}\n\nlemonade.createWebComponent('logs-page', LogsPage, { prefix: 'vein' })\n","import lemonade from \"lemonadejs\";\nimport { CHARACTER_SELECTED, SSE } from \"shared/lib\";\n\nfunction VeinCharacter() {\n    this.isOnline = false;\n    this.onconnect = () => {\n        SSE.on('online_characters', this, (online: string[]) => {\n            this.isOnline = online.includes(this.character.id);\n        });\n    };\n    this.ondisconnect = SSE.disconnect;\n\n    const selectCharacter = (ev: MouseEvent) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        SSE.emit('selected', this.character);\n        lemonade.dispatch(CHARACTER_SELECTED, this.character);\n    };\n\n    return (render: any) => render`\n        <a class=\"flex gap-4 items-center cursor-pointer\" onclick=${selectCharacter}>\n            <svg class=\"w-4 h-4\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M7.5 0C3.35786 0 0 3.35786 0 7.5C0 11.6421 3.35786 15 7.5 15C11.6421 15 15 11.6421 15 7.5C15 3.35786 11.6421 0 7.5 0Z\" class=\"${this.isOnline ? 'fill-lime-600' : 'fill-gray-400'}\"/>\n            </svg>\n            <vein-character-data \n                class=\"flex gap-4\" \n                name=${this.character.player_character_data.name}\n                occupation=${this.character.player_character_data.human_occupation}\n            />\n        </a>\n        `\n}\nlemonade.createWebComponent(\"character\", VeinCharacter, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\n\nfunction VeinPlayerStats() {\n    return (render: any) => render`\n        <details class=\"flex flex-col gap-4\">\n            <summary>Player stats</summary>\n            <div class=\"flex flex-col gap-4\" :loop=${(this.stats || [])}>\n                <vein-player-stat name={{self.human_name}} value={{self.value}} />\n            </div>\n        </details>\n    `;\n}\n\nlemonade.createWebComponent('player-stats', VeinPlayerStats, { prefix: 'vein' })\n","import { CharacterPayload } from \"entities/api\";\nimport lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\n\nfunction VeinPlayers() {\n    this.selectedClass = 'hidden';\n\n    this.onconnect = (self: any) => {\n        SSE.on('players', self);\n        SSE.on('selected', self, (character: CharacterPayload) => {\n            self.selectedClass = character ? 'w-2/3' : 'hidden';\n        });\n    };\n\n    this.ondisconnect = SSE.disconnect;\n\n    return (render: any) => render`\n        <section id=\"players\" class=\"flex flex-col gap-4\">\n            <div class=\"flex gap-4\">\n                <div :loop=${this.players} class=\"${this.selected ? 'flex flex-col gap-4 w-1/3' : 'flex flex-col gap-4 w-full'}\">\n                    <vein-player player={{self}} />\n                </div>\n                <vein-selected-character :render=${this.selected} />\n            </div\n        </section>\n    `;\n}\nlemonade.createWebComponent('players', VeinPlayers, { prefix: 'vein' });\n","import { CharacterPayload } from \"entities/api\";\nimport lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\n\nfunction VeinSelectedCharacter() {\n    this.onconnect = () => {\n        SSE.on('selected', this, (selected: CharacterPayload) => {\n            if (!selected) return;\n            this.occupation = selected.player_character_data.human_occupation\n            this.name = selected.player_character_data.name;\n            this.stats = selected.stats;\n            this.inventory = selected.inventory;\n        });\n    }\n\n    this.ondisconnect = (self: any) => SSE.disconnect(self);\n\n    return (render: any) => render`\n        <section class=\"${this.selected ? 'flex flex-col gap-4 rounded overflow-hidden shadow-lg p-6 bg-gray-800' : 'hidden'}\">\n            <vein-character-data \n                class=\"flex gap-4\" \n                name=${this.name}\n                occupation=${this.occupation}\n            />\n            <div class=\"flex gap-[12rem]\">\n                <section class=\"flex flex-col gap-4\">\n                    <h3 class=\"text-lg font-bold\">Stats</h3>\n                    <div class=\"flex flex-col gap-4\" :loop=${this.stats}>\n                        <vein-stat name={{self.human_name}} value={{self.value}} />\n                    </div>\n                </section>\n                <section class=\"flex flex-col gap-4\">\n                    <h3 class=\"text-lg font-bold\">Inventory</h3>\n                    <div class=\"flex flex-col gap-4\" :loop=${this.inventory}>\n                        <vein-item name={{self.name}} stack={{self.stack}} />\n                    </div>\n                </section>\n            </div>\n        </section>`;\n}\nlemonade.createWebComponent('selected-character', VeinSelectedCharacter, { prefix: 'vein' })\n","import lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\n\nfunction VeinUptime() {\n    const uptime = lemonade.state('');\n    this.onconnect = (self: any) => {\n        SSE.on('uptime', self, (time: string) => {\n            uptime.value = time;\n        });\n    };\n\n    this.ondisconnect = (self: any) => {\n        SSE.disconnect(self)\n    };\n    return (render: any) => render`\n        <div class=\"flex gap-4\">\n            <h1>Uptime:</h1>\n            <div>${uptime.value}<div>\n        </div>\n    `;\n}\n\nlemonade.createWebComponent('uptime', VeinUptime, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\n\nfunction VeinCharacterData() {\n    return (render: any) => render`\n        <div class=\"flex gap-4 cursor-pointer\">\n            <div class=\"font-bold text-xl cursor-pointer\">\n                ${this.name}\n            </div>\n            <div class=\"text-gray-500 text-base cursor-pointer\">\n                ${this.occupation}\n            </div>\n        </div>\n    `;\n}\n\nlemonade.createWebComponent('character-data', VeinCharacterData, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\n\nfunction VeinInventoryItem(children: any, { onchange }) {\n    return (render: any) => render`\n        <div class=\"flex gap-4\">\n            <div class=\"w-[25rem] text-base text-white\">${this.name}</div>\n            <div class=\"text-base font-bold text-gray-300\">${this.stack}</div>\n        </div>\n    `;\n}\n\nlemonade.createWebComponent('item', VeinInventoryItem, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\n\nfunction VeinPlayerStat() {\n    return (render: any) => render`\n        <div class=\"flex gap-4\">\n            <div class=\"w-[20rem] justify-left\">${this.name}</div>\n            <div class=\"justify-right\">${(this.value || 0).toFixed(2)}</div>\n        </div>\n    `;\n}\n\nlemonade.createWebComponent('player-stat', VeinPlayerStat, { prefix: 'vein' })\n","import lemonade from \"lemonadejs\";\n\nfunction VeinPlayer() {\n    return (render: any) => render`\n        <section class=\"flex flex-col gap-4 rounded overflow-hidden shadow-lg p-6 bg-gray-800\">\n            <h3 class=\"font-bold text-xl mb-2\">${this.player.last_name}</h3>\n            <vein-player-stats stats=${this.player.stats.stats} />\n\n            <div :loop=${this.player.characters} class=\"flex flex-col gap-4\">\n                <vein-character character={{self}} />\n            </div>\n        </section>`;\n}\n\nlemonade.createWebComponent('player', VeinPlayer, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\n\nfunction VeinStat() {\n    return (render: any) => render`\n        <div class=\"flex gap-4\">\n            <div class=\"w-[20rem] text-base text-white\">${this.name}</div>\n            <div class=\"text-base font-bold text-gray-300\">${(this.value || 0).toFixed(2)}</div>\n        </div>\n    `;\n}\n\nlemonade.createWebComponent('stat', VeinStat, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\nimport \"./vein-character\";\nimport \"./vein-player-stats\";\nimport \"./vein-players\";\nimport \"./vein-selected-character\";\nimport \"./vein-uptime\";\nimport \"./vein-character-data\";\nimport \"./vein-item\";\nimport \"./vein-player-stat\";\nimport \"./vein-player\";\nimport \"./vein-stat\";\n\nfunction StatusPage() {\n    const page = lemonade.state('status');\n\n    this.ondisconnect = SSE.disconnect;\n    this.onconnect = (self: any) =>\n        SSE.on('page', self, (current: string) => {\n            page.value = current;\n        });\n    ;\n\n    return (render: any) => render`\n        <article id=\"status\" class=\"${page.value == 'status' ? 'flex flex-col gap-4 p-8' : 'hidden'}\">\n            <section id=\"uptime\" class=\"flex gap-4\">\n                <vein-uptime uptime=\"\" />\n            </section>\n\n            <vein-players />\n\n            <section id=\"characters\" class=\"flex flex-col gap-4\">\n            </section>\n        </article>\n    `;\n}\n\nlemonade.createWebComponent('status-page', StatusPage, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\nimport { Component, SSE } from \"shared/lib\";\n\nfunction LogInPage() {\n    /*\n<script>\n    // Toggle password visibility\n    document.getElementById('togglePassword').addEventListener('click', function() {\n        const passwordInput = document.getElementById('password');\n        const icon = this.querySelector('i');\n        \n        if (passwordInput.type === 'password') {\n            passwordInput.type = 'text';\n            icon.classList.remove('fa-eye');\n            icon.classList.add('fa-eye-slash');\n        } else {\n            passwordInput.type = 'password';\n            icon.classList.remove('fa-eye-slash');\n            icon.classList.add('fa-eye');\n        }\n    });\n\n    // Form submission\n    document.getElementById('signinForm').addEventListener('submit', function(e) {\n        e.preventDefault();\n        \n        // Get form values\n        const username = document.getElementById('username').value;\n        const password = document.getElementById('password').value;\n        \n        // In a real application, you would send this data to your server\n        console.log('Admin sign in attempt:', { username, password });\n        \n        // Show a success message (in a real app, you'd handle authentication properly)\n        alert('Admin authentication would be implemented here!');\n    });\n</script>\n        *\n        *\n        */\n\n    return (render: any) => render`\n        <article class=\"flex items-center justify-center min-h-screen p-4\">\n    <div class=\"w-full max-w-md\">\n        <div class=\"text-center mb-10\">\n            <div class=\"flex justify-center items-center mb-6\">\n                <div class=\"w-14 h-14 rounded-xl bg-slate-800 flex items-center justify-center mr-3 border border-slate-700\">\n                    <i class=\"fas fa-gamepad text-blue-500 text-2xl\"></i>\n                </div>\n                <h1 class=\"text-3xl font-bold text-white\">VEIN</h1>\n            </div>\n            <p class=\"text-slate-400\">Admin Panel Access</p>\n        </div>\n\n        <div class=\"bg-slate-800 rounded-xl border border-slate-700 p-8 shadow-lg\">\n            <form action=\"/sign-in\" method=\"POST\" id=\"signinForm\" class=\"space-y-6\">\n                <div>\n                    <label for=\"username\" class=\"block text-sm font-medium text-slate-300 mb-2\">Username</label>\n                    <div class=\"relative\">\n                        <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                            <i class=\"fas fa-user text-slate-500\"></i>\n                        </div>\n                        <input \n                            type=\"text\" \n                            id=\"username\" \n                            name=\"login\" \n                            required \n                            class=\"input-focus bg-slate-900 border border-slate-700 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-3.5 transition duration-200\"\n                            placeholder=\"Enter your username\"\n                        >\n                    </div>\n                </div>\n\n                <div>\n                    <label for=\"password\" class=\"block text-sm font-medium text-slate-300 mb-2\">Password</label>\n                    <div class=\"relative\">\n                        <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                            <i class=\"fas fa-lock text-slate-500\"></i>\n                        </div>\n                        <input \n                            type=\"password\" \n                            id=\"password\" \n                            name=\"password\" \n                            required \n                            class=\"input-focus bg-slate-900 border border-slate-700 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-3.5 transition duration-200\"\n                            placeholder=\"Enter your password\"\n                        >\n                        <button type=\"button\" id=\"togglePassword\" class=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n                            <i class=\"fas fa-eye text-slate-500 hover:text-slate-300 transition duration-200\"></i>\n                        </button>\n                    </div>\n                </div>\n\n                <button \n                    type=\"submit\" \n                    class=\"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-3.5 text-center transition duration-200\"\n                >\n                    Sign In\n                </button>\n            </form>\n        </div>\n\n        <div class=\"mt-8 text-center text-xs text-slate-500\">\n            <p>&copy; 2023 Vein Game Dashboard. Restricted Access.</p>\n        </div>\n    </div>\n\n</article>\n        `;\n}\n\nlemonade.createWebComponent('login-page', LogInPage, { prefix: 'vein' });\n","import lemonade from \"lemonadejs\";\n\nfunction AuthorizedPage() {\n    return (render: any) => render`\n        <article>\n            <vein-menu />\n\n            <vein-status-page />\n            <vein-logs-page />\n        </article>\n    `;\n}\nlemonade.createWebComponent('authorized', AuthorizedPage, { prefix: 'vein' })\n","import lemonade from \"lemonadejs\";\nimport { SSE } from \"shared/lib\";\n\nfunction VeinMenu() {\n    const status = (ev: MouseEvent) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        SSE.emit('page', 'status');\n    };\n    const logs = (ev: MouseEvent) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        SSE.emit('page', 'logs');\n    };\n    return (render: any) => render`\n        <nav class=\"bg-gray-800 p-6\">\n            <ul class=\"flex gap-4\">\n                <li>\n                    <a href=\"#status\" class=\"text-gray-400 hover:text-white\" onclick=${status}>\n                        Status\n                    </a>\n                </li>\n                <li>\n                    <a href=\"#logs\" class=\"text-gray-400 hover:text-white\" onclick=${logs}>\n                        Logs\n                    </a>\n                </li>\n            </ul>\n        </nav>\n        `;\n}\n\nlemonade.createWebComponent('menu', VeinMenu, { prefix: 'vein' });\n","import \"./app\";\nimport \"./pages\";\nimport \"./features\";\n\nimport { SSE } from \"./shared/lib\";\nimport { LogsPayload, PlayerPayload, PlayerStatusPayload, StatusPayload } from \"./entities/api\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const handleEvent = (event: MessageEvent) => {\n        const payload = JSON.parse(event.data);\n        for (const event_name in payload) {\n            const handler = (HANDLERS as any)[event_name as string];\n            if (handler) handler(payload[event_name]);\n        }\n    };\n\n    const sse = new EventSource(\"/events\");\n    sse.onopen = () => console.log(\"SSE opened\");\n    sse.addEventListener(\"server_event\", ev => handleEvent(ev));\n    sse.addEventListener(\"forbidden\", () => {\n        console.log('forbidden');\n        SSE.emit('forbidden', null);\n        sse.close();\n    });\n    sse.onerror = (e: any) => {\n        console.error(e);\n        if (e.readyState === EventSource.CLOSED) {\n            console.log(\"DEBUG: eventSource connection CLOSED! Trying to reconnect!\");\n        } else {\n            sse.close();\n        }\n    };\n});\n\nconst HANDLERS = {\n    players: (players: PlayerPayload[]) => {\n        SSE.emit('players', players);\n        SSE.emit('characters', players.map(p => p.characters).flat());\n    },\n    status: (status: StatusPayload) => {\n        SSE.emit('status', status);\n        SSE.emit('online_characters', Object.values(status.online_players).map((p: PlayerStatusPayload) => p.character_id));\n        SSE.emit('uptime', status.human_uptime);\n    },\n    logs: (logs: LogsPayload) => {\n        SSE.emit('logs', logs);\n    },\n};\n"],"names":["Map","document","console","Error","Array","arguments","t","TypeError","Set","Object","o","a","i","e","s","n","queueMicrotask","Function","isNaN","Number","JSON","HTMLElement","Element","DocumentFragment","r","window","Symbol","Event","SSE","target","ty","idx","el","msg_type","callback","queue","payload","_","lemonade","state","render","page","logs","self","value","online","selectCharacter","ev","character","selected","uptime","time","children","onchange","current","status","sse","EventSource","handleEvent","event","event_name","handler","HANDLERS","players","p"],"mappings":"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"}